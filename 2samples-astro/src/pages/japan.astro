---
import Base from '../layouts/Base.astro';
import VideoSection from '../components/VideoSection.astro';
import { destinations } from '../lib/destinations';
import { processVideoData } from '../lib/storage';

// For now, use static placeholder data
// In production, this would fetch from S3
const placeholderVideos = [
  { url: 'https://d1rhrn7ca7di1b.cloudfront.net/videos/Japan-2019-Osaka.mp4', name: 'Japan-2019-Osaka', still: 'https://d1rhrn7ca7di1b.cloudfront.net/stills/Japan-2019-Osaka-still-001.jpg' },
  { url: 'https://d1rhrn7ca7di1b.cloudfront.net/videos/Japan-2019.mp4', name: 'Japan-2019', still: 'https://d1rhrn7ca7di1b.cloudfront.net/stills/Japan-2019-still-001.jpg' },
  { url: 'https://d1rhrn7ca7di1b.cloudfront.net/videos/Tokyo.mov', name: 'Tokyo', still: 'https://d1rhrn7ca7di1b.cloudfront.net/stills/Tokyo-still-001.jpg' },
];

const destination = destinations.japan;
const videos = placeholderVideos;
---

<Base title={destination.pageTitle}>
  <div class="container">
    <h1 style="text-align: center;">{destination.title}</h1>
  </div>
  {destination.sections.map((section) => (
    <VideoSection
      title={section.title}
      videoName={section.videoName}
      videos={videos}
      description={section.description}
    />
  ))}
</Base>
